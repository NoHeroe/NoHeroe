<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NoHeroes | Inventário (RPG UI Skeleton)</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Unbounded:wght@400;700&display=swap"
    rel="stylesheet"
  />
  <style>
    /*— Variáveis de cor —*/
    :root {
      --dark-bg: #181022;
      --panel-bg: rgba(36, 20, 52, 0.83);
      --panel-border: #a855f7bb;
      --accent-purple: #a855f7;
      --accent-purple-dark: #6d28d9;
      --text-light: #f4f4f4;
      --text-gray: #c4b5fd;
      --slot-bg: rgba(50, 30, 60, 0.35);
      --slot-border: #a855f799;
      --bar-bg: #2a213c;
      --bar-fill: #a855f7cc;
    }

    /*— Reset básico e body —*/
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
      background: linear-gradient(120deg, var(--dark-bg) 60%, #2a213c 100%);
      color: var(--text-light);
      font-family: "Unbounded", sans-serif;
      overflow-x: hidden;
      overflow-y: auto;
    }

    /*— Container raiz —*/
    .ui-root {
      max-width: 1240px;
      margin: 24px auto;
      border-radius: 16px;
      background: var(--panel-bg);
      border: 2px solid var(--panel-border);
      box-shadow: 0 0 48px rgba(168, 85, 247, 0.3), 0 2px 12px #000;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    /*— Abas do topo wrapper —*/
    .tabs-container-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      padding: 12px 0;
    }

    /*— Abas do topo —*/
    .tabs-container {
      display: flex;
      background: none;
      border-bottom: 2px solid rgba(168, 85, 247, 0.33);
      padding: 12px 20px;
      gap: 24px;
      font-size: 1.1rem;
      font-weight: 700;
      overflow-x: auto;
      scroll-snap-type: x proximity;
    }
    .tabs-container::-webkit-scrollbar {
      display: none;
    }
    .tabs-container {
      scrollbar-width: none;
    }

    /*— Aba padrão —*/
    .tab {
      flex: 0 0 auto;
      background: var(--panel-bg);
      border: 2px solid var(--accent-purple);
      color: var(--text-light);
      padding: 6px 16px;
      border-radius: 12px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s, box-shadow 0.2s;
      white-space: nowrap;
    }

    .tab.active {
      background: linear-gradient(
        90deg,
        var(--accent-purple-dark) 60%,
        var(--accent-purple) 100%
      );
      box-shadow: 0 2px 18px rgba(168, 85, 247, 0.5);
      color: #fff;
    }

    /* remova .tab-store-wrapper e regras associadas */

.tabs-container {
  display: flex;
  gap: 16px;
  padding: 12px 20px;
  border-bottom: 2px solid rgba(168,85,247,0.33);
}

.store-row {
  display: flex;
  justify-content: center;
  padding: 8px 0 16px;
}

/* mantém o estilo original do botão Loja */
.tab-store {
  background: linear-gradient(120deg,#1e121f 60%,#3d214d 100%);
  border: 2px dashed var(--accent-purple);
  color: var(--accent-purple);
  font-weight:700;
  padding:10px 24px;
  border-radius:16px;
  box-shadow:0 0 18px rgba(168,85,247,0.3);
  cursor:pointer;
  transition:transform .2s;
}

.tab-store:hover { transform: scale(1.05); }

    /*— Conteúdo principal (Left - Center - Right) —*/
    .content-container {
      display: flex;
      width: 100%;
      min-height: 580px;
    }

    /*  – Left Panel */
    .left-panel {
      flex: 0 0 260px;
      background: var(--panel-bg);
      border-right: 2px solid rgba(168, 85, 247, 0.33);
      display: flex;
      flex-direction: column;
      padding: 28px 20px 20px 20px;
      gap: 24px;
    }

    /*  – Center Panel */
    .center-panel {
      flex: 1 1 auto;
      background: var(--dark-bg);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .avatar-placeholder {
      width: 380px;
      height: 520px;
      border-radius: 12px;
      background: linear-gradient(120deg, #1e121f 65%, #3d214d 100%);
      border: 3px dashed var(--slot-border);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--accent-purple);
      font-size: 2.2rem;
      font-weight: 700;
      text-shadow: 0 0 24px rgba(168, 85, 247, 0.6);
    }

    /*  – Right Panel */
    .right-panel {
      flex: 0 0 320px;
      background: var(--panel-bg);
      border-left: 2px solid rgba(168, 85, 247, 0.33);
      display: flex;
      flex-direction: column;
      padding: 24px 16px 16px 16px;
      gap: 20px;
      position: relative;
    }

    /*— Left Panes —*/
    .pane-overview,
    .pane-inventory,
    .pane-equipment {
      display: none;
      flex-direction: column;
      gap: 24px;
    }
    .pane-overview.active,
    .pane-inventory.active,
    .pane-equipment.active {
      display: flex;
    }

    /*— Quick Info & Bars —*/
    .left-title {
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--accent-purple);
      text-shadow: 0 0 8px rgba(168, 85, 247, 0.7);
      margin-bottom: 12px;
    }
    .left-text {
      font-size: 1rem;
      line-height: 1.4;
      color: var(--text-light);
      opacity: 0.95;
    }
    .info-row {
      display: flex;
      justify-content: space-between;
      font-size: 1rem;
      font-weight: 600;
      color: var(--text-gray);
      margin-bottom: 6px;
    }
    .info-label {
      color: var(--text-light);
    }
    .bar-container {
      width: 100%;
      height: 10px;
      background: var(--bar-bg);
      border-radius: 6px;
      overflow: hidden;
      margin-top: 4px;
    }
    .bar-fill {
      height: 100%;
      background: var(--bar-fill);
      border-radius: 6px 0 0 6px;
      width: 0%;
      transition: width 0.4s;
    }

    /*— Inventory Tabs & Grid —*/
    .inv-categories {
      display: flex;
      gap: 12px;
      overflow-x: auto;
      padding-bottom: 8px;
    }
    .inv-cat-tab {
      flex: 0 0 auto;
      background: var(--panel-bg);
      border: 2px solid var(--accent-purple);
      color: var(--text-light);
      padding: 6px 12px;
      border-radius: 12px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s, box-shadow 0.2s;
      white-space: nowrap;
    }
    .inv-cat-tab.active {
      background: var(--accent-purple);
      box-shadow: 0 0 12px rgba(168, 85, 247, 0.6);
      color: #fff;
    }
    .inv-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      padding-right: 4px;
      max-height: 360px;
      overflow-y: auto;
    }
    .inv-slot {
      width: 100%;
      aspect-ratio: 1 / 1;
      background: var(--slot-bg);
      border: 2px dashed var(--slot-border);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--accent-purple);
      font-size: 1.1rem;
      opacity: 0.4;
      cursor: default;
    }
    .inv-empty-label {
      font-size: 0.95rem;
      color: var(--text-gray);
      text-align: center;
      margin-top: 12px;
      opacity: 0.8;
    }

    /*— Equipment Slots —*/
    .equip-section {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .equip-title {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--accent-purple);
    }
    .equip-slots {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    .equip-slot {
      width: 64px;
      height: 64px;
      background: var(--slot-bg);
      border: 2px dashed var(--slot-border);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--accent-purple);
      font-size: 1.2rem;
      opacity: 0.5;
      cursor: default;
    }

    /*— Scrollbar customizada —*/
    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }
    ::-webkit-scrollbar-track {
      background: rgba(50, 30, 60, 0.3);
      border-radius: 3px;
    }
    ::-webkit-scrollbar-thumb {
      background: var(--accent-purple);
      border-radius: 3px;
    }

    /*— Responsividade —*/
    @media (max-width: 1024px) {
      .left-panel {
        flex: 0 0 240px;
        padding: 20px 16px 16px 16px;
      }
      .avatar-placeholder {
        width: 300px;
        height: 420px;
      }
      .right-panel {
        flex: 0 0 280px;
        padding: 20px 12px 12px 12px;
      }
    }
    @media (max-width: 720px) {
      .tabs-container {
        flex-wrap: wrap;
        gap: 12px;
      }
      .content-container {
        flex-direction: column;
      }
      .left-panel,
      .right-panel {
        flex: 0 0 auto;
        border: none;
        border-bottom: 2px solid rgba(168, 85, 247, 0.33);
      }
      .left-panel {
        padding: 16px 12px 12px 12px;
      }
      .right-panel {
        padding: 16px 12px 12px 12px;
      }
    }

/* centraliza Loja em linha própria */
.store-row {
  display: flex;
  justify-content: center;
  margin-top: 12px;
}

/* garante que abas ocupem só uma linha */
.tabs-container {
  display: flex;
  gap: 12px;
  flex-wrap: nowrap;
}
/* ============================= */
/* Inventário: filtro e painel   */
/* ============================= */
.inventory-filter {
  display: none; /* Controlado por JS, aparece na aba Inventário */
  flex-wrap: wrap;
  gap: 8px;
  justify-content: center;
  padding: 12px 0;
  background: var(--panel-bg);
  border-bottom: 2px solid rgba(168,85,247,0.33);
}
.filter-btn {
  background: var(--panel-bg);
  border: 2px solid var(--accent-purple);
  color: var(--text-light);
  padding: 6px 12px;
  border-radius: 8px;
  cursor: pointer;
  transition: background .2s, box-shadow .2s;
}
.filter-btn.active {
  background: var(--accent-purple);
  color: #fff;
  box-shadow: 0 0 8px rgba(168,85,247,0.6);
}
/* Quando em Inventário, zera a altura mínima para não deixar gap */
.content-container.inventory-active {
  min-height: 0 !important;
}

/* === Avatar + Armadura alinhadas só no Equipamentos === */
/* Centraliza o container principal do avatar e armadura */
.center-panel {
  display: flex;
  flex-direction: column; /* Para alinhar o filtro (se houver) abaixo do avatar */
  align-items: center;
  justify-content: center; /* Garante que o avatar esteja no centro */
  padding: 20px 0; /* Adiciona um pouco de padding para não ficar colado nas bordas */
}

.avatar-armor-container {
  display: flex;
  align-items: center; /* Alinha os slots de armadura com o avatar */
  gap: 16px; /* Espaçamento entre as colunas de armadura e o avatar */
}

.armor-side {
  display: flex;
  flex-direction: column;
  gap: 8px; /* Espaçamento entre os slots de armadura */
}

/* Estilo padrão para os slots de armadura e mochila (desktop) */
.equip-slot {
  width: 64px;
  height: 64px;
  background: var(--slot-bg);
  border: 2px dashed var(--slot-border);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--accent-purple);
  font-size: 1.2rem;
  opacity: 0.5;
  cursor: default;
}

/* === Mochila: 18 slots em grid 6x3 no desktop === */
.backpack-grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr); /* 6 colunas para desktop */
  gap: 8px;
  width: 100%; /* Garante que o grid ocupe a largura disponível */
}

/* Ajuste visual para diferenciar slots da mochila (opcional) */
.backpack-grid .equip-slot {
  opacity: 0.8;
}

/* Media query para mobile */
@media (max-width: 720px) {
  /* AVATAR E ARMADURA NA ABA EQUIPAMENTO */
  .avatar-armor-container {
    flex-wrap: nowrap !important;
    gap: 8px !important; /* Espaçamento ajustado para mobile */
  }

  .armor-side {
    gap: 4px !important; /* Espaçamento menor entre slots para mobile */
  }

  .armor-side .equip-slot {
    width: 40px !important; /* Tamanho do slot de armadura para mobile */
    height: 40px !important;
  }

  .avatar-placeholder {
    width: 180px !important; /* Tamanho do avatar para mobile */
    height: 240px !important;
    font-size: 1.8rem !important; /* Fonte menor para caber */
  }

  /* MOCHILA NO PAINEL EQUIPAMENTO */
  .backpack-grid {
    grid-template-columns: repeat(3, 1fr) !important; /* 3 colunas para mobile */
    gap: 6px !important; /* Espaçamento menor para mobile */
  }
  .backpack-grid .equip-slot {
    width: auto !important; /* Largura automática para preencher o grid */
    height: 60px !important; /* Altura fixa para manter proporção */
  }

  /* INVENTÁRIO (garante que o center-panel se esconda e o filtro apareça) */
  .content-container.inventory-active .center-panel {
    display: none; /* Esconde o center-panel quando o inventário está ativo no mobile */
  }
  .inventory-filter {
    display: flex; /* Garante que o filtro apareça quando o inventário está ativo no mobile */
  }
}
  </style>
</head>
<body>
  <div class="ui-root">
    <div
 <div class="tabs-container scroll-x">
  <button class="tab active" data-tab="overview">Overview</button>
  <button class="tab"       data-tab="inventory">Inventário</button>
  <button class="tab"       data-tab="equipment">Equipamento</button>
</div>
<div class="store-row">
  <button class="tab-store" onclick="location.href='store.html'">⛩ Loja</button>
</div>
      </div>
    </div>

    <div class="content-container">
      <div class="left-panel">
        <div class="pane-overview active">
          <div class="left-title">Overview</div>
          <div class="info-row">
            <span class="info-label">Nome:</span>
            <span id="nome-personagem">Ghoul Pionkim <button class="edit-button" onclick="editarNome()">✎</button></span>
          </div>
          <div class="info-row">
            <span class="info-label">Classe:</span><span>Portador das Sombras</span>
          </div>
          <div class="info-row">
            <span class="info-label">Facção:</span><span>Noctis Ordinem</span>
          </div>
          <div class="info-row" style="margin-top:16px;">
            <span class="info-label">Despertar Vitalista</span>
            <span id="valor-despertar">128.000 / 1.000.000</span>
          </div>
          <div class="bar-container" style="height:12px;border:2px solid #333;background:#000;">
            <div class="bar-fill" id="barra-despertar"
                 style="background:linear-gradient(90deg,red,orange,yellow,green,cyan,blue,violet);width:12.8%;box-shadow:inset 0 0 6px #000;">
            </div>
          </div>

          <div class="quick-info-title">Atributos</div>
          <div class="info-row"><span class="info-label">Nível</span><span id="nivel">3</span></div>
          <div class="bar-container" style="height:12px;border:2px solid #333;background:#000;">
            <div class="bar-fill" id="xp-bar" style="background:#4CAF50;width:67%;box-shadow:inset 0 0 6px #000;"></div>
          </div>
          <div class="info-row" style="margin-top:12px;">
            <span class="info-label">Pontos Disponíveis</span><span id="pontos-disponiveis">4</span>
          </div>

          <div class="info-row">
            <span class="info-label">Força</span>
            <span id="valor-forca">1 <button class="add-point" data-add="forca">+</button></span>
          </div>
          <div class="bar-container"><div class="bar-fill" id="barra-forca" style="width:60%;"></div></div>

          <div class="info-row">
            <span class="info-label">Destreza</span>
            <span id="valor-destreza">1 <button class="add-point" data-add="destreza">+</button></span>
          </div>
          <div class="bar-container"><div class="bar-fill" id="barra-destreza" style="width:50%;"></div></div>

          <div class="info-row">
            <span class="info-label">Constituição</span>
            <span id="valor-constituicao">1 <button class="add-point" data-add="constituicao">+</button></span>
          </div>
          <div class="bar-container"><div class="bar-fill" id="barra-constituicao" style="width:65%;"></div></div>

          <div class="info-row">
            <span class="info-label">Inteligência</span>
            <span id="valor-inteligencia">1 <button class="add-point" data-add="inteligencia">+</button></span>
          </div>
          <div class="bar-container"><div class="bar-fill" id="barra-inteligencia" style="width:45%;"></div></div>

          <div class="info-row">
            <span class="info-label">Espírito</span>
            <span id="valor-espirito">1 <button class="add-point" data-add="espirito">+</button></span>
          </div>
          <div class="bar-container"><div class="bar-fill" id="barra-espirito" style="width:40%;"></div></div>

          <div class="info-row">
            <span class="info-label">Carisma</span>
            <span id="valor-carisma">1 <button class="add-point" data-add="carisma">+</button></span>
          </div>
          <div class="bar-container"><div class="bar-fill" id="barra-carisma" style="width:30%;"></div></div>
        </div>

        <div class="pane-inventory">
          <div class="left-title">Inventário</div>
          <div class="left-text">
            Aqui você vê tudo o que já comprou.<br />
            Clique em cada categoria para ver os slots.
          </div>
        </div>

        <div class="pane-equipment">
          <div class="left-title">Equipamento</div>
          <div class="left-text">
            Seus slots de equipamento aparecem aqui.
          </div>
        </div>
      </div>

<div class="center-panel">
  <div class="avatar-armor-container">
    <div class="armor-side armor-left" style="display:none;">
      <div class="equip-slot"></div>
      <div class="equip-slot"></div>
      <div class="equip-slot"></div>
      <div class="equip-slot"></div>
    </div>

    <div class="avatar-panel">
      <div class="avatar-placeholder">Avatar</div>
    </div>

    <div class="armor-side armor-right" style="display:none;">
      <div class="equip-slot"></div>
      <div class="equip-slot"></div>
      <div class="equip-slot"></div>
      <div class="equip-slot"></div>
    </div>
  </div>

  <div class="inventory-filter" style="display:none;">
    <button class="filter-btn active" data-filter="all">Tudo</button>
    <button class="filter-btn" data-filter="anime">Animes</button>
    <button class="filter-btn" data-filter="manga">Mangás</button>
    <button class="filter-btn" data-filter="ebook">eBooks</button>
    <button class="filter-btn" data-filter="mentor">Mentorias</button>
    <button class="filter-btn" data-filter="extras">Extras</button>
  </div>
</div>

      <div class="right-panel">
        <div class="pane-overview-right"></div>

       <div class="pane-inventory-right" style="display:none;flex-direction:column;gap:12px;">
  <div class="category-container" data-category="anime">
    <div class="equip-title" style="font-size:1.05rem;margin-bottom:8px;">Animes</div>
    <div class="inv-grid">
      <div class="inv-slot"></div><div class="inv-slot"></div>
      <div class="inv-slot"></div><div class="inv-slot"></div>
    </div>
    <div class="inv-empty-label">Sem Animes comprados.</div>
  </div>

  <div class="category-container" data-category="manga">
    <div class="equip-title" style="font-size:1.05rem;margin-bottom:8px;">Mangás</div>
    <div class="inv-grid">
      <div class="inv-slot"></div><div class="inv-slot"></div>
      <div class="inv-slot"></div><div class="inv-slot"></div>
    </div>
    <div class="inv-empty-label">Sem Mangás comprados.</div>
  </div>

  <div class="category-container" data-category="ebook">
    <div class="equip-title" style="font-size:1.05rem;margin-bottom:8px;">eBooks</div>
    <div class="inv-grid">
      <div class="inv-slot"></div><div class="inv-slot"></div>
      <div class="inv-slot"></div><div class="inv-slot"></div>
    </div>
    <div class="inv-empty-label">Sem eBooks comprados.</div>
  </div>

  <div class="category-container" data-category="mentor">
    <div class="equip-title" style="font-size:1.05rem;margin-bottom:8px;">Mentorias</div>
    <div class="inv-grid">
      <div class="inv-slot"></div><div class="inv-slot"></div>
      <div class="inv-slot"></div><div class="inv-slot"></div>
    </div>
    <div class="inv-empty-label">Sem Mentorias compradas.</div>
  </div>

 <div class="category-container" data-category="extras">
    <div class="equip-title" style="font-size:1.05rem;margin-bottom:8px;">Extras</div>
    <div class="inv-grid">
      <div class="inv-slot"></div><div class="inv-slot"></div>
      <div class="inv-slot"></div><div class="inv-slot"></div>
    </div>
    <div class="inv-empty-label">Sem Extras disponíveis.</div>
  </div>
</div>

        <div class="pane-equipment-right" style="display:none;flex-direction:column;gap:16px;">

  <div class="equip-section">
    <div class="equip-title">Primary Slot</div>
    <div class="equip-slots">
      <div class="equip-slot"></div>
    </div>
  </div>
  <div class="equip-section">
    <div class="equip-title">Secondary Slot</div>
    <div class="equip-slots">
      <div class="equip-slot"></div>
    </div>
  </div>
  <div class="equip-section">
    <div class="equip-title">Tools</div>
    <div class="equip-slots">
      <div class="equip-slot"></div>
      <div class="equip-slot"></div>
      <div class="equip-slot"></div>
    </div>
  </div>

  <div class="equip-section">
    <div class="equip-title">Skill</div>
    <div class="equip-slots">
      <div class="equip-slot"></div>
      <div class="equip-slot"></div>
      <div class="equip-slot"></div>
      <div class="equip-slot"></div>
    </div>
  </div>

  <div class="equip-section">
    <div class="equip-title">Acessórios</div>
    <div class="equip-slots">
      <div class="equip-slot"></div>
      <div class="equip-slot"></div>
      <div class="equip-slot"></div>
    </div>
  </div>
  <div class="equip-section">
    <div class="equip-title">Troféus</div>
    <div class="equip-slots">
      <div class="equip-slot"></div>
      <div class="equip-slot"></div>
      <div class="equip-slot"></div>
    </div>
  </div>
  <div class="equip-section">
    <div class="equip-title">Insígnias</div>
    <div class="equip-slots">
      <div class="equip-slot"></div>
    </div>
  </div>

  <div class="equip-section">
    <div class="equip-title">Mochila</div>
    <div class="backpack-grid">
      <div class="equip-slot"></div><div class="equip-slot"></div><div class="equip-slot"></div>
      <div class="equip-slot"></div><div class="equip-slot"></div><div class="equip-slot"></div>
      <div class="equip-slot"></div><div class="equip-slot"></div><div class="equip-slot"></div>
      <div class="equip-slot"></div><div class="equip-slot"></div><div class="equip-slot"></div>
      <div class="equip-slot"></div><div class="equip-slot"></div><div class="equip-slot"></div>
      <div class="equip-slot"></div><div class="equip-slot"></div><div class="equip-slot"></div>
    </div>
  </div>

</div>

<script>
  // Seletores principais
  const tabs             = document.querySelectorAll(".tab");
  const leftPanes        = { overview:    document.querySelector(".pane-overview"),
                             inventory:   document.querySelector(".pane-inventory"),
                             equipment:   document.querySelector(".pane-equipment") };
  const rightPanes       = { overview:    document.querySelector(".pane-overview-right"),
                             inventory:   document.querySelector(".pane-inventory-right"),
                             equipment:   document.querySelector(".pane-equipment-right") };
  const centerPanel      = document.querySelector(".center-panel");
  const contentContainer = document.querySelector(".content-container");
  const invFilter        = document.querySelector(".inventory-filter");
  const avatarPanel      = document.querySelector(".avatar-panel");
  const armorSides       = document.querySelectorAll(".armor-side");
  const filterBtns       = document.querySelectorAll(".filter-btn");
  const catContainers    = document.querySelectorAll(".category-container");

  // Função de clique em abas
  function handleTabClick(tab) {
    const key = tab.dataset.tab;
    const isInv = key === "inventory";
    const isEq  = key === "equipment";

    // 1) ativa aba
    tabs.forEach(t => t.classList.toggle("active", t === tab));

    // 2) mostra leftPane
    Object.entries(leftPanes).forEach(([k,p]) =>
      p.classList.toggle("active", k === key)
    );

    // 3) mostra rightPane
    Object.entries(rightPanes).forEach(([k,p]) =>
      p.style.display = (k === key ? "flex" : "none")
    );

    // 4) mostra/oculta center-panel
    // O center-panel deve sempre ser flex quando não é inventário.
    centerPanel.style.display = (isInv ? "none" : "flex");
    contentContainer.classList.toggle("inventory-active", isInv);


    // 5) filtro vs avatar
    invFilter.style.display   = (isInv ? "flex" : "none");
    avatarPanel.style.display = (isInv ? "none" : "flex");

    // 6) armadura apenas no equipamento
    armorSides.forEach(el =>
      el.style.display = (isEq ? "flex" : "none")
    );

    // 7) reset de filtro ao entrar no Inventário
    if (isInv) {
      filterBtns.forEach(b => b.classList.remove("active"));
      filterBtns[0].classList.add("active");
      catContainers.forEach(c => c.style.display = "block");
    }
  }

  // Associa click às tabs
  tabs.forEach(tab =>
    tab.addEventListener("click", () => handleTabClick(tab))
  );

  // Lógica de filtragem
  filterBtns.forEach(btn =>
    btn.addEventListener("click", () => {
      filterBtns.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      const f = btn.dataset.filter;
      catContainers.forEach(c => {
        c.style.display = (f === "all" || c.dataset.category === f)
                          ? "block"
                          : "none";
      });
    })
  );

  // Código de atributos permanece intacto
  const estado = {
    nivel: 3, xp: 6700, xpMax: 10000, pontosDisponiveis: 4,
    atributos: { forca:1, destreza:1, constituicao:1, inteligencia:1, espirito:1, carisma:1 }
  };
  function atualizarInterface() {
    document.getElementById("nivel").textContent = estado.nivel;
    document.getElementById("xp-bar").style.width = (estado.xp/estado.xpMax)*100 + "%";
    document.getElementById("pontos-disponiveis").textContent = estado.pontosDisponiveis;
    for (let k in estado.atributos) {
      const span = document.getElementById("valor-"+k);
      if (!span) continue;
      span.childNodes[0].nodeValue = estado.atributos[k] + " ";
      document.getElementById("barra-"+k).style.width =
        Math.min((estado.atributos[k]/20)*100,100) + "%";
    }
  }
  function adicionarPonto(at) {
    if (estado.pontosDisponiveis<=0) return;
    estado.atributos[at]++; estado.pontosDisponiveis--; atualizarInterface();
  }
  function editarNome() {
    const span = document.getElementById("nome-personagem");
    const atual = span.textContent.replace("✎","").trim();
    const novo  = prompt("Digite um novo nome:", atual);
    if (novo && novo.length>1) {
      span.innerHTML = novo + ' <button class="edit-button" onclick="editarNome()">✎</button>';
    }
  }
  function ganharXp(q) { estado.xp+=q;
    while (estado.xp>=estado.xpMax) {
      estado.xp-=estado.xpMax; estado.nivel++; estado.pontosDisponiveis+=2;
    }
    atualizarInterface();
  }

  // Inicialização
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll("[data-add]").forEach(btn =>
      btn.addEventListener("click", ()=> adicionarPonto(btn.dataset.add))
    );
    atualizarInterface();
    const init = document.querySelector(".tab.active");
    if (init) handleTabClick(init);
  });
</script>
</body>
</html>
